

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Scripts and their functions &mdash; EBU-TT-Live Toolkit 1.0rc1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="EBU-TT-Live Toolkit 1.0rc1 documentation" href="index.html"/>
        <link rel="up" title="Overview of the EBU-TT live toolkit." href="overview.html"/>
        <link rel="next" title="Configuration files and ebu-run" href="configurator.html"/>
        <link rel="prev" title="Direct Carriage Mechanism" href="direct_carriage_mechanism.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> EBU-TT-Live Toolkit
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Overview of the EBU-TT live toolkit.</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nodes_and_carriage_mechanisms.html">Nodes and Carriage Mechanisms</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Scripts and their functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simple-producer">Simple Producer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simple-consumer">Simple consumer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-input-producer">User Input Producer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-input-consumer">User Input Consumer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-input-forwarder">User Input Forwarder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ebu-tt-d-encoder">EBU-TT-D Encoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-ebu-run-script">The ebu-run script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configurator.html">Configuration files and <code class="docutils literal"><span class="pre">ebu-run</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="validation.html">Document and sequence validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_input_producer.html">User input producer</a></li>
<li class="toctree-l2"><a class="reference internal" href="timing_resolution.html">Timing resolution and consumer logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation.html">Segmentation of EBU-TT-Live document sequences</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ebu_tt_live.html">Source code reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EBU-TT-Live Toolkit</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="overview.html">Overview of the EBU-TT live toolkit.</a> &raquo;</li>
        
      <li>Scripts and their functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/scripts_and_their_functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scripts-and-their-functions">
<h1>Scripts and their functions<a class="headerlink" href="#scripts-and-their-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="simple-producer">
<h2>Simple Producer<a class="headerlink" href="#simple-producer" title="Permalink to this headline">¶</a></h2>
<p>This is a command line script. It loads static text from a file (<code class="docutils literal"><span class="pre">ebu-tt-live-toolkit/ebu_tt_live/examples/simple_producer.txt</span></code>) and breaks it into a sequence of EBU-TT Live documents using natural language processing. Run it by entering the command <code class="docutils literal"><span class="pre">ebu-simple-producer</span></code> without any arguments.</p>
<p>The default carriage mechanism is WebSocket, so you will need to listen to <code class="docutils literal"><span class="pre">ws://127.0.0.1:9000</span></code>. Conveniently, we&#8217;ve created an HTML page that does just that. After you launch <code class="docutils literal"><span class="pre">ebu-simple-producer</span></code>, open <code class="docutils literal"><span class="pre">test.html</span></code> in your browser. The &#8216;Broadcast message&#8217; field should be populated with the correct address (<code class="docutils literal"><span class="pre">ws://localhost:9000</span></code>). Click &#8216;Connect&#8217; and then &#8216;Subscribe&#8217;. You can also change the identifier for the sequence. The documents should appear in the window below.</p>
<p>Alternatively, the Simple Producer can use the file system as the carriage mechanism. Start it with the folder argument, like this: <code class="docutils literal"><span class="pre">ebu-simple-producer</span> <span class="pre">--folder-export</span> <span class="pre">myFolder</span></code>. This saves the documents in <code class="docutils literal"><span class="pre">myFolder</span></code> together with a manifest file that can be used by the Simple Consumer (below). See <a class="reference external" href="filesystem_carriage_mechanism.html">filesystem_carriage_mechanism.html</a> for more details about the file system carriage mechanism.</p>
</div>
<div class="section" id="simple-consumer">
<h2>Simple consumer<a class="headerlink" href="#simple-consumer" title="Permalink to this headline">¶</a></h2>
<p>This script reads and validates documents in a sequence. It performs both semantic and syntactic validation of the XML. By default, it uses WebSocket and listens to <code class="docutils literal"><span class="pre">ws://localhost:9000</span></code>, but you can also point it to the file system. If you saved the documents in a folder (using the folder export argument of the Simple Producer), you can start it with the location of the manifest file, like so: <code class="docutils literal"><span class="pre">ebu-simple-consumer</span> <span class="pre">--manifest-path</span> <span class="pre">myFolder/manifest_sequence_identifier.txt</span></code>.</p>
</div>
<div class="section" id="user-input-producer">
<h2>User Input Producer<a class="headerlink" href="#user-input-producer" title="Permalink to this headline">¶</a></h2>
<p>This is a web page that adds a user interface and various configurations to the Simple Producer. It needs to connect to either the User Input Consumer or a User Input Forwarder. First, start <code class="docutils literal"><span class="pre">ebu-user-input-consumer</span></code> or <code class="docutils literal"><span class="pre">ebu-user-input-forwarder</span></code> from the command line. Then, in your browser, open <code class="docutils literal"><span class="pre">ebu_tt_live/ui/user_input_producer/user_input_producer.html</span></code> and click &#8216;Connect&#8217;. Select the sending mode (manual, scheduled or asynchronous). You should see the documents arriving in the command line window where <code class="docutils literal"><span class="pre">ebu-user-input-consumer</span></code> is listening. See detailed instructions here: <a class="reference external" href="user_input_producer.html">user_input_producer.html</a>.</p>
</div>
<div class="section" id="user-input-consumer">
<h2>User Input Consumer<a class="headerlink" href="#user-input-consumer" title="Permalink to this headline">¶</a></h2>
<p>This is very similar to the Simple Consumer. It also performs validation but it does not have a manifest option. It provides a WebSocket connection point for the User Input Producer. You&#8217;ll need to start either this or the User Input Forwarder before connecting the User Input Producer (but not both).</p>
</div>
<div class="section" id="user-input-forwarder">
<h2>User Input Forwarder<a class="headerlink" href="#user-input-forwarder" title="Permalink to this headline">¶</a></h2>
<p>This script mimics a distribution node. It listens to documents coming from the User Input Producer on <code class="docutils literal"><span class="pre">ws://127.0.0.1:9001</span></code> and forwards them to any consumer listening on <code class="docutils literal"><span class="pre">ws://127.0.0.1:9000</span></code>. Like the Simple Producer, it can also save the documents it receives to the file system. First, run it with the <code class="docutils literal"><span class="pre">--folder-export</span></code> argument like this: <code class="docutils literal"><span class="pre">ebu-user-input-forwarder</span> <span class="pre">--folder-export</span> <span class="pre">myFolder</span></code>. Then launch the User Input Producer and connect. The sequence will be saved to <code class="docutils literal"><span class="pre">myFolder</span></code> along with the manifest file. The User Input Forwarder can also be used as an incoming connection point for WebSocket connections from sources other than the User Input Producer.</p>
</div>
<div class="section" id="ebu-tt-d-encoder">
<h2>EBU-TT-D Encoder<a class="headerlink" href="#ebu-tt-d-encoder" title="Permalink to this headline">¶</a></h2>
<p>This script is an extension of simple consumer and is responsible for resegmenting and converting the incoming
EBU-TT Live documents into EBU-TT-D documents that can be later used to be embedded in video streams such as DASH.
The script launches with the <code class="docutils literal"><span class="pre">ebu-ebuttd-encoder</span></code> command. There are switches to control the mediatime conversion
reference point and the segmentation interval. Please run <code class="docutils literal"><span class="pre">ebu-ebuttd-encoder</span> <span class="pre">--help</span></code> to find our more.</p>
</div>
<div class="section" id="the-ebu-run-script">
<h2>The ebu-run script<a class="headerlink" href="#the-ebu-run-script" title="Permalink to this headline">¶</a></h2>
<p>This script is capable of picking up a structured configuration file and use that to create the nodes and carriage mechanism objects that we would like to use and they can be even wired in the same configuration file together so in the end a complex system can be modeled using a single json file. Please refer to <a class="reference internal" href="ebu_tt_live.scripts.html#module-ebu_tt_live.scripts.ebu_run" title="ebu_tt_live.scripts.ebu_run"><code class="xref py py-mod docutils literal"><span class="pre">ebu_tt_live.scripts.ebu_run</span></code></a> as well as <a class="reference internal" href="ebu_tt_live.config.html#module-ebu_tt_live.config" title="ebu_tt_live.config"><code class="xref py py-mod docutils literal"><span class="pre">ebu_tt_live.config</span></code></a> to learn more about the way the configuration logic works. To get help on permitted options for the specified node(s) run <code class="docutils literal"><span class="pre">ebu-run</span></code> with a <code class="docutils literal"><span class="pre">--help</span></code>. See <a class="reference internal" href="configurator.html"><span class="doc">Configuration files and ebu-run</span></a>.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configurator.html" class="btn btn-neutral float-right" title="Configuration files and ebu-run" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="direct_carriage_mechanism.html" class="btn btn-neutral" title="Direct Carriage Mechanism" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, European Broadcasting Union.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0rc1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>